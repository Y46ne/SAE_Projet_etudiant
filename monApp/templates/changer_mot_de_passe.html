{% extends "base.html" %}
{% from "_formhelpers.html" import render_field %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/modification_mdp.css') }}">
{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<div class="card shadow-sm">
    <div class="card-body">
        <h1>Changer mon mot de passe</h1>
        <form action="{{ url_for('changer_mot_de_passe') }}" method="POST" novalidate>
            {{ form.hidden_tag() }}
            
            <div class="mb-3">
                {{ render_field(form.old_password) }}
            </div>
            
            <div class="mb-3">
                {{ render_field(form.new_password) }}
            </div>
            
            <div class="mb-3">
                {{ render_field(form.confirm_password) }}
            </div>

            <hr>
            
            <div class="d-flex justify-content-end gap-2 mt-4">
                <a href="{{ url_for('parametres') }}" class="btn btn-secondary">Annuler</a>
                {{ render_field(form.submit) }}
            </div>
        </form>
    </div>
</div>
{% endblock %}